# Lucene Kotlin Multiplatform

[![CI](https://github.com/nehemiaharchives/lucene-kmp/actions/workflows/ci.yml/badge.svg)](https://github.com/nehemiaharchives/lucene-kmp/actions/workflows/ci.yml)

## What is it?

This repository contains a lucene-kmp library project, a [Kotlin Multiplatform](https://kotlinlang.org/docs/multiplatform.html) port of [apache lucene](https://github.com/apache/lucene/) that is deployable to [Maven Central](https://central.sonatype.com/).

## Supported platforms
* jvm
* android
* iOS (iosX64, iosArm64, iosSimulatorArm64)

## Lucene Java Source Project
currently the port is based on following commit of lucene main branch
```
commit ec75fcad5a4208c7b9e35e870229d9b703cda8f3 (HEAD -> main, origin/main, origin/HEAD)
Author: Robert Muir <rmuir@apache.org>
Date:   Sun Mar 2 14:11:10 2025 -0500

    reformat the python code with 'make reformat' and enable format in CI check

    currently the python code has a mix of indentation, styles, imports
    ordering, etc. for example, it is very difficult to work with mixed
    indentation levels: the language is sensitive to indentation.

    reformat all the code with 'make reformat' and enable format checks when
    linting. It works like spotless, just don't think about it.
```

## PROGRESS
### Classes needed to port to write minimum index:
* [ ] org.apache.lucene.index.IndexWriter
* [ ] org.apache.lucene.index.IndexWriterConfig
* [ ] org.apache.lucene.store.FSDirectory
* [x] org.apache.lucene.analysis.Analyzer
* [x] org.apache.lucene.document.Document
* [x] org.apache.lucene.document.Field
* [x] org.apache.lucene.document.IntPoint
* [x] org.apache.lucene.document.StoredField
* [x] org.apache.lucene.document.TextField

### Classes needed to port to perform minimum search:
* [ ] org.apache.lucene.index.DirectoryReader
* [ ] org.apache.lucene.index.StandardDirectoryReader
* [ ] org.apache.lucene.queryparser.classic.QueryParser
* [ ] org.apache.lucene.search.IndexSearcher
* [ ] org.apache.lucene.store.FSLockFactory
* [ ] org.apache.lucene.store.NIOFSDirectory
* [x] org.apache.lucene.document.IntPoint
* [x] org.apache.lucene.search.Query
* [x] org.apache.lucene.search.BooleanQuery
* [x] org.apache.lucene.search.BooleanClause
* [x] org.apache.lucene.search.Sort
* [x] org.apache.lucene.search.SortField

[PROGRESS.md](PROGRESS.md) for more details. The file is automatically generated by [progress.main.kts](progress.main.kts) script which also outputs progress report to the console.

## TODO
* need to catch up with lucene main branch automatically using AI agent such as [jetbrains junie](https://www.jetbrains.com/junie/) one commit by commit.
